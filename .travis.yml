# Travis-CI Build for bpki
# see travis-ci.org for details

language: generic

os: linux
dist: trusty
sudo: required

before_install:
  - sudo apt-get install -y --no-install-recommends
      texlive-base texlive-latex-base texlive-latex-extra 
      texlive-latex-recommended texlive-generic-extra
      texlive-fonts-recommended texlive-generic-recommended
      texlive-fonts-extra texlive-lang-cyrillic 

script:
  - cd spec
  - pdflatex -interaction=nonstopmode -halt-on-error bpki.tex
  - pdflatex -interaction=nonstopmode -halt-on-error bpki.tex
  - cd ..

deploy:
  provider: releases
  api_key: 
    secure: NHqxDkuRBTwJ/E9SKLkrLdKy6oJA8XD3k8EqyNGuDN5rmbmAzC7AiHS5heqVEYB6rpz1bPAHvNTxG8JVY67aJ11YWpqZmTp2KC0aUPNnZVQBmtJKF+SUJfQXRkC46URNWO6vi3hClicvPJsKQk1d2WyhUQXG0X+yChurK+GJAeQ7tS9jMxAmlhVdPMxE4uHcZ2weVYDu4d9oglGyacku7ZeessPUQYvSgDBwvFkzWqpwAy0EdMcEhcohqACR6AobqP8lYZvfqmk7RQMpMavDQniw3IGHxo/J4kaCJA1efzkyUyk/uVZYsFD4fQ644fp8itMT/F+AuLd7cNvM5cAOdXsvoWvQH97F0zPLp9ksFGZFxEW3L1/VUlCn0x5ONB22H5LEDO0c2v6/oFnYjHq+hH8UWU4LyYyIlRZ9R2LxHKekGuO2SabYcg7OCMEU/x/SXsFiFs3aTSqvLC40DV1mu1GZ12kUSQ7tIAdp0geJSPC3Yvl/hsTn6ms1Cdn0ddEFwSSHmoeV+pX/kozk445lLLg27DpE3AXpAX61Sfup06T+hHBn2KIpmcaj2GvpcZ216jsuXd8nMoTn59sRJKrBgrlFqy0SmVOJLb/xA4oErmjCBJvQ5B0xxdDlP5BH0vCKKWPUycNt0kPeYXSd2h5n9eLjd6SKxP2ng3fSJpAE6DI=
  file: spec/bpki.pdf
  skip_cleanup: true
  overwrite: true
  on:
    branch: master
    tags: true