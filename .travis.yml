# Travis-CI Build for bpki
# see travis-ci.org for details

language: generic

os: linux
dist: trusty
sudo: required

before_install:
  - sudo apt-get install -y --no-install-recommends
      texlive-base texlive-latex-base texlive-latex-extra 
      texlive-latex-recommended texlive-generic-extra
      texlive-fonts-recommended texlive-generic-recommended
      texlive-fonts-extra texlive-lang-cyrillic 

script:
  - cd spec
  - pdflatex -interaction=nonstopmode -halt-on-error bpki.tex
  - pdflatex -interaction=nonstopmode -halt-on-error bpki.tex
  - cd ..

deploy:
  provider: releases
  api_key: 
    secure: TBocYS6WSUgWwhwLvxRRcgSEDXfDYnEJZYI7Z0VzFvjFv4dm9y0KCEN6zsw10tXYDlAmbwKZKX/ZNqgqt4LNPYWz8ydDwLdtuRRkCGeXoSjerUgGcXiPZC6h5hv7UAfQMCwyFAEItS0hvQOs3fsr3CF2hHRG8Rpk7kudxuRaNl/kD8mQNbB6WNw1sn4I/sdtAn+eG6qUUFWm/SSNMEKdpQXxAumXUIoYcViRHJ4mBpiHDqG2SY6lGOd5RxKzCjHSuLNrLNw2Q1Kuu5Zm6timd4JCscH/j3nSSXXF/4XYggsykJFOW3rCX5i2V5TJ8jHaQ5pk/0QeD4ozxh5uPKnjCuzmzJNzPsdm9u/5QlkF1UPHJuAA+1/Rq5Nn2T4a1oCZJNWXcnLVe23BRL5ZprurElUnpgjosizQFd0c910ooB6383ekgoCoN2sp33LMknWsbqzqbAn80jcL+pXEP5U554uXZosmrNNUbDmoFgiC/M/MSMch8a5gfVYC4C547ejeal8nhG/1Rdn/+LRGkSKxKP6RrsKcpqRkXnZ0NIoOUMuvn6GM6PnYmm/eQ1+xpMPtvqMQGYeAIvUAH94/wqPZpklOLviKtYjYEpn1jrR3ZZ/+nZJu+rsRFFQIAAJVF8vaG2Os5aiEwZRHmJ5pheIbqRIc6+Qo0bW6MnHD5w5yQS4=
  file: spec/bpki.pdf
  skip_cleanup: true
  overwrite: true
  on:
    branch: master
    tags: true